(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{156:function(e,t,n){e.exports=n(258)},161:function(e,t,n){},162:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),l=n.n(r),c=(n(161),n(162),n(66)),u=n(260),i=o.a.createContext(),s=function(e){var t=e.children,n=Object(u.a)((function(){return{todos:localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[],addTodo:function(e){n.todos.unshift(e),localStorage.setItem("todos",JSON.stringify(n.todos))},changeStatus:function(e){n.todos=n.todos.map((function(t){if(t.id===e){var n="undone"===t.status?"done":"undone",a=(new Date).getTime();return Object(c.a)({},t,{status:n,date:a})}return t})),localStorage.setItem("todos",JSON.stringify(n.todos))},editTodo:function(e,t){n.todos=n.todos.map((function(n){return n.id===e?Object(c.a)({},n,{},t):n})),localStorage.setItem("todos",JSON.stringify(n.todos))},deleteTodo:function(e){n.todos=n.todos.filter((function(t){return t.id!==e})),localStorage.setItem("todos",JSON.stringify(n.todos))},get todosDone(){return n.todos.filter((function(e){return"done"===e.status}))}}}));return o.a.createElement(i.Provider,{value:n},t)},d=n(261),m=n(65),f=n(39),E=n(38),g=n(23),p=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],r=n[1];return{visible:o,openModal:function(e){r(!0)},closeModal:function(){r(!1)}}},v=function(e){var t=o.a.useContext(i);return e?t[e]:t},b=n(268),y=n(262),h=n(267),O=n(269),j=n(266),T=function(e){var t=e.isModalShow,n=e.onCancel,r=e.title,l=e.id,i={content:"",date:new Date,status:"undone",id:null},s=v(),d=Object(a.useState)(i),m=Object(g.a)(d,2),f=m[0],E=m[1],p=function(e){var t={content:e.target.value,date:(new Date).getTime(),status:f.status||"undone",id:f.id||Object(b.a)()};E(t)},T=function(){l?s.editTodo(l,f):(s.addTodo(f),E(i)),n()};return Object(a.useEffect)((function(){if(l){var e=s.todos.find((function(e){return e.id===l}));E(Object(c.a)({},e))}}),[s.todos,l]),Object(u.b)((function(){return o.a.createElement(y.a,{visible:t,onCancel:n,onOk:T,title:r},o.a.createElement(h.a,{justify:"between",align:"center",gutter:"16"},o.a.createElement(O.a,{span:12},o.a.createElement(j.a,{placeholder:"todos...",value:f.content,onChange:p,onPressEnter:function(e){e.stopPropagation(),T()}}))))}))};T.defaultProps={isModalShow:!1,title:"Add Todo"};var S=T,C=n(263),x=n(69),D=n(87),k=n.n(D),M=n(70),w=n(264);function I(){var e=Object(x.a)(["{\n  width: 48%;\n}"]);return I=function(){return e},e}function N(){var e=Object(x.a)(["{\n  display: flex;\n  align-items: center;\n}"]);return N=function(){return e},e}var Y=Object(M.a)(O.a)(N()),J=Object(M.a)(E.a)(I()),H=function(e){var t=e.todo,n=t.content,a=t.date,r=t.status,l=t.id,c=e.onChange,u=v(),i=p();return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{gutter:"24",align:"center",style:{marginBottom:"10px"}},o.a.createElement(Y,{span:2,style:{justifyContent:"center",alignItems:"center"}},o.a.createElement(w.a,{checked:"done"===r,onChange:function(){return c(l)}})),o.a.createElement(Y,{align:"center",span:10,style:{justifyContent:"center"}},o.a.createElement(C.a.Text,{delete:"done"===r},n)),o.a.createElement(Y,{span:6,style:{justifyContent:"center"}},o.a.createElement(C.a.Text,null,k()(a).format("YYYY-MM-DD HH:mm"))),o.a.createElement(Y,{span:6,style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(J,{type:"primary",onClick:i.openModal},"Edit"),o.a.createElement(J,{danger:!0,onClick:function(){return u.deleteTodo(l)}},"Delete"))),o.a.createElement(S,{key:Math.random(),isModalShow:i.visible,onCancel:i.closeModal,id:l,title:"Edit Todo"}))};H.defaultProps={todo:{}};var A=H,P=function(){var e=v();return Object(u.b)((function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{gutter:"24",align:"center",style:{marginBottom:"16px"}},o.a.createElement(O.a,{span:2,align:"center"},o.a.createElement(C.a.Text,null,"Status")),o.a.createElement(O.a,{align:"center",span:10},o.a.createElement(C.a.Text,null,"Content")),o.a.createElement(O.a,{span:6},o.a.createElement(C.a.Text,null,"Last Modified")),o.a.createElement(O.a,{span:6},o.a.createElement(C.a.Text,null,"Action"))),e.todos.map((function(t){return o.a.createElement(A,{todo:t,key:t.id,onChange:e.changeStatus,deleteTodo:e.deleteTodo})})))}))};var B=function(){var e=v(),t=p();return Object(u.b)((function(){return o.a.createElement("main",{className:"App",style:{margin:"0 auto"}},e.todos.length>0?o.a.createElement(P,null):o.a.createElement("h1",null,"Do not have any todo yet..."),o.a.createElement(E.a,{onClick:t.openModal,size:"large",style:{marginTop:"16px"}},"ADD TODO"),o.a.createElement(S,{key:Math.random(),isModalShow:t.visible,onCancel:t.closeModal}))}))};function F(){var e=Object(x.a)(["{\n  text-align: center;\n  margin-top: 20px;\n}"]);return F=function(){return e},e}var z=M.a.div(F());var K=[{name:"Todo",router:"/",component:B},{name:"Done",router:"/done",component:function(){var e=v();return Object(u.b)((function(){return o.a.createElement(z,{className:"App",style:{margin:"0 auto"}},o.a.createElement(C.a.Title,null,"Done"),e.todosDone.length?e.todosDone.map((function(e){return o.a.createElement(h.a,{key:e.id,justify:"center",gutter:16},o.a.createElement(O.a,{col:6},o.a.createElement(C.a.Text,null,k()(e.date).format("YYYY-MM-DD HH:mm"))),o.a.createElement(O.a,{col:10},o.a.createElement(C.a.Text,null,e.content)))})):o.a.createElement(C.a.Title,{level:4},"Nothing is done..."))}))}}],L=function(){return o.a.createElement(f.d,null,K.map((function(e){return o.a.createElement(f.b,{path:e.router,key:e.name,component:e.component,exact:!0})})),o.a.createElement(f.a,{to:"/"}))},q=n(265),G=function(){var e=Object(a.useState)("Todo"),t=Object(g.a)(e,2),n=t[0],r=t[1],l=Object(f.g)();Object(a.useEffect)((function(){var e=K.find((function(e){return e.router===l.pathname}));e&&r(e.name)}),[l]);return o.a.createElement(d.a.Sider,{width:200},o.a.createElement(q.a,{theme:"dark",selectedKeys:[n],onClick:function(e){void 0!==e.key&&r(e.key)}},K.map((function(e){return o.a.createElement(q.a.Item,{key:e.name},o.a.createElement(m.b,{to:e.router},e.name))}))))},Q=d.a.Header,R=d.a.Content;var U=function(){return o.a.createElement(d.a,{style:{minHeight:"100vh"}},o.a.createElement(Q,null,o.a.createElement("h1",null,"TODO")),o.a.createElement(d.a,null,o.a.createElement(m.a,null,o.a.createElement(G,null),o.a.createElement(R,null,o.a.createElement(L,{style:{height:"100vh"}})))))};l.a.render(o.a.createElement(s,null,o.a.createElement(U,null)),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.637f7194.chunk.js.map